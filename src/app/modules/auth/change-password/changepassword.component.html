<div class="auth-wrapper">
  <div class="auth-card">

    <h2>Change Password</h2>

    <form [formGroup]="form" (ngSubmit)="changePassword()">

      <div class="form-group">
        <input placeholder="Email" formControlName="email" />
        <small class="error"
          *ngIf="form.get('email')?.touched && form.get('email')?.errors?.['required']">
          Email is required
        </small>
        <small class="error"
          *ngIf="form.get('email')?.touched && form.get('email')?.errors?.['email']">
          Enter a valid email
        </small>
      </div>

      <div class="form-group">
        <input type="password" placeholder="Old Password" formControlName="oldPassword" />
        <small class="error"
          *ngIf="form.get('oldPassword')?.touched && form.get('oldPassword')?.errors?.['required']">
          Old password is required
        </small>
      </div>

      <div class="form-group">
        <input type="password" placeholder="New Password" formControlName="newPassword" />
        <small class="error"
          *ngIf="form.get('newPassword')?.touched && form.get('newPassword')?.errors?.['required']">
          New password is required
        </small>
        <small class="error"
          *ngIf="form.get('newPassword')?.touched && form.get('newPassword')?.errors?.['minlength']">
          Minimum 6 characters
        </small>
      </div>

      <button class="primary-btn" type="submit" [disabled]="form.invalid || isSubmitting"> {{ isSubmitting ? 'Please wait...' : 'Change Password' }}</button>

    </form>

    <p class="switch">
      Back to
      <a routerLink="/login">Login</a>
    </p>

  </div>
</div>
